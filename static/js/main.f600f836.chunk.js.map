{"version":3,"sources":["components/Gallery/Gallery.module.css","components/PhotoCard/PhotoCard.module.css","components/LoadMore/LoadMore.module.css","components/SearchForm/SearchForm.js","components/Modal/Modal.js","components/PhotoCard/PhotoCard.js","components/Gallery/Gallery.js","components/LoadMore/LoadMore.js","components/App.js","index.js","components/Modal/Modal.module.css","components/SearchForm/SearchForm.module.css"],"names":["module","exports","gallery","photoCard","img","stats","statsItem","fullscreenButton","fullscreenIcon","button","SearchForm","state","value","upperSearch","getValue","e","_this","setState","target","getSearchValue","props","preventDefault","setUpperSearch","reset","upper","toUpperCase","_this$state","this","searchValue","react_default","a","createElement","className","styles","searchForm","onSubmit","type","autoComplete","placeholder","onChange","searchFormInput","Component","Modal","backdropRef","createRef","handleKeyPress","code","onClose","handleBackdropClick","current","window","addEventListener","removeEventListener","_this$props","url","children","backdrop","ref","onClick","overlay","modal","src","alt","PhotoCard","_ref","webformatURL","largeImageURL","likes","views","comments","downloads","isOpen","handleOpen","handleClose","Modal_Modal","Gallery","modalOpen","onOpen","_this2","items","console","log","map","el","key","id","components_PhotoCard_PhotoCard","Object","assign","LoadMore","handleMoreClick","Fragment","App","emptyItems","perPage","servicesAPI","isWait","axios","get","concat","then","data","hits","finally","resetPerPage","prevState","String","Number","scrollPageToBottom","scrollTo","top","document","body","scrollHeight","behavior","prevProps","_this$state2","length","_this$state3","app","components_SearchForm_SearchForm","components_Gallery_Gallery","components_LoadMore_LoadMore","loadMore","ReactDOM","render","components_App","getElementById"],"mappings":"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","file":"static/js/main.f600f836.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__4Waqj\",\"photoCard\":\"Gallery_photoCard__3NAth\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"PhotoCard_img__2WZUV\",\"stats\":\"PhotoCard_stats__3rCdl\",\"statsItem\":\"PhotoCard_statsItem__3glta\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__3Mc8h\",\"fullscreenIcon\":\"PhotoCard_fullscreenIcon__3rGVD\",\"photoCard\":\"PhotoCard_photoCard__1VHtU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"LoadMore_button__2TfCk\"};","/*eslint-disable */\nimport React, { Component } from 'react';\nimport styles from './SearchForm.module.css';\n\nclass SearchForm extends Component {\n  state = {\n    value: '',\n    upperSearch: 'Search images...',\n  };\n\n  getValue = e => {\n    this.setState({ value: e.target.value });\n  };\n\n  getSearchValue = e => {\n    const { getSearchValue } = this.props;\n    const { value } = this.state;\n    e.preventDefault();\n    getSearchValue(value);\n    this.setUpperSearch(value);\n    this.reset();\n  };\n\n  setUpperSearch = value => {\n    const upper = value.toUpperCase();\n    this.setState({\n      upperSearch: upper,\n    });\n  };\n\n  reset = () => {\n    this.setState({\n      value: '',\n    });\n  };\n\n  render() {\n    const { value, upperSearch } = this.state;\n    const { searchValue } = this.props;\n    return (\n      <form className={styles.searchForm} onSubmit={this.getSearchValue}>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          // placeholder=\"Search images...\"\n          placeholder={upperSearch}\n          value={value}\n          onChange={this.getValue}\n          className={styles.searchFormInput}\n        />\n      </form>\n    );\n  }\n}\n\nexport default SearchForm;\n","/*eslint-disable*/\nimport React, { Component, createRef } from 'react';\nimport styles from './Modal.module.css';\n\nexport default class Modal extends Component {\n  backdropRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    if (e.code !== 'Escape') return;\n    this.props.onClose();\n  };\n\n  handleBackdropClick = e => {\n    const { current } = this.backdropRef;\n    if (current && e.target !== current) {\n      return;\n    }\n    this.props.onClose();\n  };\n\n  render() {\n    const { children, url } = this.props;\n    return (\n      <div\n        className={styles.backdrop}\n        ref={this.backdropRef}\n        onClick={this.handleBackdropClick}\n      >\n        {/* <div className={styles.modal}>{children}</div> */}\n\n        <div className={styles.overlay}>\n          <div className={styles.modal}>\n            <img src={url} alt=\"\" />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","/*eslint-disable*/\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './PhotoCard.module.css';\nimport Modal from '../Modal/Modal';\n\nconst PhotoCard = ({\n  webformatURL,\n  largeImageURL,\n  likes,\n  views,\n  comments,\n  downloads,\n  isOpen,\n  handleOpen,\n  handleClose,\n}) => (\n  <div className={styles.photoCard}>\n    <img className={styles.img} src={webformatURL} alt=\"\" />\n\n    <div className={styles.stats}>\n      <p className={styles.statsItem}>\n        <i className=\"material-icons\">thumb_up</i>\n        {likes}\n      </p>\n      <p className={styles.statsItem}>\n        <i className=\"material-icons\">visibility</i>\n        {views}\n      </p>\n      <p className={styles.statsItem}>\n        <i className=\"material-icons\">comment</i>\n        {comments}\n      </p>\n      <p className={styles.statsItem}>\n        <i className=\"material-icons\">cloud_download</i>\n        {downloads}\n      </p>\n    </div>\n\n    {!isOpen && (\n      <button\n        type=\"button\"\n        className={styles.fullscreenButton}\n        onClick={handleOpen}\n      >\n        <i className=\"material-icons\">zoom_out_map</i>\n      </button>\n    )}\n    {isOpen && <Modal url={largeImageURL} onClose={handleClose} />}\n  </div>\n);\n\nexport default PhotoCard;\n","/*eslint-disable*/\nimport React, { Component } from 'react';\nimport PhotoCard from '../PhotoCard/PhotoCard';\nimport styles from './Gallery.module.css';\n\nclass Gallery extends Component {\n  state = {\n    modalOpen: false,\n  };\n\n  onOpen = () => {\n    this.setState({\n      modalOpen: true,\n    });\n  };\n\n  onClose = () => {\n    this.setState;\n    ({\n      modalOpen: false,\n    });\n  };\n\n  render() {\n    const { items } = this.props;\n    const { modalOpen } = this.state;\n    console.log(modalOpen);\n    return (\n      <ul className={styles.gallery}>\n        {items.map(el => (\n          <li className={styles.photoCard} key={el.id}>\n            <PhotoCard\n              {...el}\n              isOpen={modalOpen}\n              handleOpen={this.onOpen}\n              handleClose={this.onClose}\n            />\n          </li>\n        ))}\n      </ul>\n    );\n  }\n}\n\nexport default Gallery;\n","/*eslint-disable*/\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './LoadMore.module.css';\n\nconst LoadMore = ({ handleMoreClick }) => {\n  return (\n    <>\n      <button className={styles.button} type=\"button\" onClick={handleMoreClick}>\n        Load more\n      </button>\n    </>\n  );\n};\n\nexport default LoadMore;\n","/*eslint-disable*/\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport SearchForm from './SearchForm/SearchForm';\nimport Gallery from './Gallery/Gallery';\nimport axios from 'axios';\nimport styles from '../components/App.module.css';\nimport LoadMore from './LoadMore/LoadMore';\n\nclass App extends Component {\n  state = {\n    items: [],\n    emptyItems: false,\n    searchValue: '',\n    perPage: '12',\n  };\n\n  servicesAPI = (searchValue, perPage) => {\n    this.setState({\n      isWait: true,\n    });\n    axios\n      .get(\n        `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchValue}&page=1&per_page=${perPage}&key=12869322-4857e225bc17e2a940faa9df9`,\n      )\n      .then(({ data }) => this.setState({ items: data.hits }))\n      .finally(() =>\n        this.setState({\n          isWait: false,\n        }),\n      );\n  };\n\n  componentDidMount() {\n    const { searchValue, perPage } = this.state;\n    this.servicesAPI(searchValue, perPage);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchValue, perPage, items, isWait } = this.state;\n    if (prevState.searchValue !== searchValue) {\n      this.resetPerPage();\n      this.servicesAPI(searchValue, perPage);\n    }\n    if (prevState.perPage !== perPage && perPage !== '12') {\n      this.servicesAPI(searchValue, perPage);\n    }\n    if (items.length > 12) {\n      this.scrollPageToBottom();\n    }\n  }\n\n  resetPerPage = () => {\n    this.setState({\n      perPage: '12',\n    });\n  };\n\n  getSearchValue = value => {\n    this.setState({\n      searchValue: value,\n    });\n  };\n\n  handleMoreClick = e => {\n    const count = 12;\n    this.setState(prevState => ({\n      perPage: String(Number(prevState.perPage) + count),\n    }));\n  };\n\n  scrollPageToBottom = () => {\n    window.scrollTo({\n      top: document.body.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  render() {\n    const { items, searchValue, emptyItems, isOpen } = this.state;\n    return (\n      <div className={styles.app}>\n        <SearchForm\n          getSearchValue={this.getSearchValue}\n          searchValue={searchValue}\n        />\n        {emptyItems && (\n          <div>\n            <p>null</p>\n          </div>\n        )}\n        <Gallery items={items} handleMoreClick={this.handleMoreClick} />\n        {items.length > 0 && (\n          <LoadMore\n            className={styles.loadMore}\n            handleMoreClick={this.handleMoreClick}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__ioHhT\",\"modal\":\"Modal_modal__OdOKc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__2kdq5\",\"searchFormInput\":\"SearchForm_searchFormInput__2h-57\"};"],"sourceRoot":""}